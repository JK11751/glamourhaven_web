import React, { useState } from 'react';
import {
  Box,
  Container,
  SimpleGrid,
  Stack,
  Text,
  Flex,
  Tag,
  useColorModeValue,
  Heading,
  FormControl,
  Input,
  Button,
  HStack,
  Spacer,
} from '@chakra-ui/react';
import { Link } from 'react-router-dom';
import { LogoAlt } from '../Logo';
import { CheckIcon } from '@chakra-ui/icons';

const ListHeader = ({ children }) => {
  return (
    <Text fontWeight={'500'} fontSize={'lg'} mb={2}>
      {children}
    </Text>
  );
};
const Footer = () => {
  return (
    <Box
      bg="#232F3E"
      w="100%"
      // bg={useColorModeValue('gray.50', 'gray.900')}
      // color={useColorModeValue('gray.700', 'gray.200')}
    >
      {/*"Newsletter"*/}
      <Box w="100%">
        <NewsLetter />
      </Box>

      <HStack px="auto">
        <Box ml="20">
          <LogoAlt />
        </Box>
        <Spacer />
        <Container color="white" as={Stack} maxW={'6xl'} py={10}>
          <SimpleGrid columns={{ base: 1, sm: 2, md: 4 }} spacing={8}>
            <Stack align={'flex-start'}>
              <ListHeader>Product</ListHeader>
              <Link to="/">Overview</Link>
              <Stack direction={'row'} align={'center'} spacing={2}>
                <Link to="/">Features</Link>
                <Tag
                  size={'sm'}
                  bg={useColorModeValue('green.300', 'green.800')}
                  ml={2}
                  color={'white'}
                >
                  New
                </Tag>
              </Stack>
              <Link to="/">Pricing</Link>
              <Link to="/">Releases</Link>
            </Stack>
            <Stack align={'flex-start'}>
              <ListHeader>Company</ListHeader>
              <Link to="/">About Us</Link>
              <Link to="/">Contact Us</Link>
              <Link to="/">Founders</Link>
            </Stack>
            <Stack align={'flex-start'}>
              <ListHeader>Legal</ListHeader>
              <Link to="/">Cookies Policy</Link>
              <Link to="/">Privacy Policy</Link>
              <Link to="/">Terms of Service</Link>
            </Stack>
            <Stack align={'flex-start'}>
              <ListHeader>Follow Us</ListHeader>
              <Link to="/">Facebook</Link>
              <Link to="/">Twitter</Link>
              <Link to="/">Instagram</Link>
              <Link to="/">LinkedIn</Link>
            </Stack>
          </SimpleGrid>
        </Container>
      </HStack>
      <Box py={5}>
        <Text color="white" fontSize={'sm'} textAlign={'center'}>
          Â© 2022 GlamourHaven. All rights reserved
        </Text>
      </Box>
    </Box>
  );
};

export default Footer;
const NewsLetter = () => {
  const [email, setEmail] = useState('');
  const [state, setState] = useState('initial');
  const [error, setError] = useState(false);

  return (
    <Flex
      align={'center'}
      justify={'center'}
      bg={useColorModeValue('gray.50', 'gray.800')}
    >
      <Container p={6} direction={'column'}>
        <Heading
          as={'h5'}
          fontSize={{ base: 'sm', sm: 'md' }}
          textAlign={'center'}
          mb={5}
        >
          New to GlamourHaven? Subscribe to our Newsletter to get updates on our
          latest discounts and offers on services we offer
        </Heading>
        <Stack
          direction={{ base: 'column', md: 'row' }}
          as={'form'}
          spacing={'12px'}
          onSubmit={e => {
            e.preventDefault();
            setError(false);
            setState('submitting');

            // remove this code and implement your submit logic right here
            setTimeout(() => {
              if (email === 'fail@example.com') {
                setError(true);
                setState('initial');
                return;
              }

              setState('success');
            }, 1000);
          }}
        >
          <FormControl>
            <Input
              variant={'solid'}
              borderWidth={1}
              color={'gray.800'}
              _placeholder={{
                color: 'gray.400',
              }}
              borderColor={useColorModeValue('gray.300', 'gray.700')}
              id={'email'}
              type={'email'}
              required
              placeholder={'Your Email'}
              aria-label={'Your Email'}
              value={email}
              disabled={state !== 'initial'}
              onChange={e => setEmail(e.target.value)}
            />
          </FormControl>
          <FormControl w={{ base: '100%', md: '40%' }}>
            <Button
              bg={state === 'success' ? 'green' : 'brand.300'}
              color="white"
              isLoading={state === 'submitting'}
              w="100%"
              type={state === 'success' ? 'button' : 'submit'}
            >
              {state === 'success' ? <CheckIcon /> : 'Submit'}
            </Button>
          </FormControl>
        </Stack>
        <Text
          mt={2}
          textAlign={'center'}
          color={error ? 'red.500' : 'gray.500'}
        >
          {error ? 'Oh no an error occured! ðŸ˜¢ Please try again later.' : ''}
        </Text>
      </Container>
    </Flex>
  );
};
